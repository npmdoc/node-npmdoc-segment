<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/leizongmin/node-segment#readme">segment (v0.1.3)</a>
</h1>
<h4>Chinese word segmentation ä¸­æ–‡åˆ†è¯æ¨¡å—</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.segment">module segment</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.segment">
            function <span class="apidocSignatureSpan"></span>segment
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.Optimizer">
            function <span class="apidocSignatureSpan">segment.</span>Optimizer
            <span class="apidocSignatureSpan">(segment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.Segment">
            function <span class="apidocSignatureSpan">segment.</span>Segment
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.Tokenizer">
            function <span class="apidocSignatureSpan">segment.</span>Tokenizer
            <span class="apidocSignatureSpan">(segment)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">segment.</span>ChsNameOptimizer</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">segment.</span>ChsNameTokenizer</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">segment.</span>DatetimeOptimizer</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">segment.</span>DictOptimizer</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">segment.</span>DictTokenizer</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">segment.</span>EmailOptimizer</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">segment.</span>ForeignTokenizer</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">segment.</span>Optimizer.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">segment.</span>POSTAG</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">segment.</span>PunctuationTokenizer</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">segment.</span>Segment.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">segment.</span>SingleTokenizer</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">segment.</span>Tokenizer.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">segment.</span>URLTokenizer</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">segment.</span>WildcardTokenizer</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">segment.</span>version</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.segment.ChsNameOptimizer">module segment.ChsNameOptimizer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.ChsNameOptimizer.doOptimize">
            function <span class="apidocSignatureSpan">segment.ChsNameOptimizer.</span>doOptimize
            <span class="apidocSignatureSpan">(words)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.ChsNameOptimizer.init">
            function <span class="apidocSignatureSpan">segment.ChsNameOptimizer.</span>init
            <span class="apidocSignatureSpan">(segment)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">segment.ChsNameOptimizer.</span>type</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.segment.ChsNameTokenizer">module segment.ChsNameTokenizer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.ChsNameTokenizer.init">
            function <span class="apidocSignatureSpan">segment.ChsNameTokenizer.</span>init
            <span class="apidocSignatureSpan">(segment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.ChsNameTokenizer.split">
            function <span class="apidocSignatureSpan">segment.ChsNameTokenizer.</span>split
            <span class="apidocSignatureSpan">(words)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">segment.ChsNameTokenizer.</span>type</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.segment.DatetimeOptimizer">module segment.DatetimeOptimizer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.DatetimeOptimizer.doOptimize">
            function <span class="apidocSignatureSpan">segment.DatetimeOptimizer.</span>doOptimize
            <span class="apidocSignatureSpan">(words, is_not_first)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.DatetimeOptimizer.init">
            function <span class="apidocSignatureSpan">segment.DatetimeOptimizer.</span>init
            <span class="apidocSignatureSpan">(segment)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">segment.DatetimeOptimizer.</span>type</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.segment.DictOptimizer">module segment.DictOptimizer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.DictOptimizer.doOptimize">
            function <span class="apidocSignatureSpan">segment.DictOptimizer.</span>doOptimize
            <span class="apidocSignatureSpan">(words, is_not_first)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.DictOptimizer.init">
            function <span class="apidocSignatureSpan">segment.DictOptimizer.</span>init
            <span class="apidocSignatureSpan">(segment)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">segment.DictOptimizer.</span>type</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.segment.DictTokenizer">module segment.DictTokenizer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.DictTokenizer.init">
            function <span class="apidocSignatureSpan">segment.DictTokenizer.</span>init
            <span class="apidocSignatureSpan">(segment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.DictTokenizer.split">
            function <span class="apidocSignatureSpan">segment.DictTokenizer.</span>split
            <span class="apidocSignatureSpan">(words)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">segment.DictTokenizer.</span>type</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.segment.EmailOptimizer">module segment.EmailOptimizer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.EmailOptimizer.doOptimize">
            function <span class="apidocSignatureSpan">segment.EmailOptimizer.</span>doOptimize
            <span class="apidocSignatureSpan">(words)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.EmailOptimizer.init">
            function <span class="apidocSignatureSpan">segment.EmailOptimizer.</span>init
            <span class="apidocSignatureSpan">(segment)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">segment.EmailOptimizer.</span>type</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.segment.ForeignTokenizer">module segment.ForeignTokenizer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.ForeignTokenizer.init">
            function <span class="apidocSignatureSpan">segment.ForeignTokenizer.</span>init
            <span class="apidocSignatureSpan">(segment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.ForeignTokenizer.split">
            function <span class="apidocSignatureSpan">segment.ForeignTokenizer.</span>split
            <span class="apidocSignatureSpan">(words)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">segment.ForeignTokenizer.</span>type</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.segment.Optimizer">module segment.Optimizer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.Optimizer.Optimizer">
            function <span class="apidocSignatureSpan">segment.</span>Optimizer
            <span class="apidocSignatureSpan">(segment)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.segment.Optimizer.prototype">module segment.Optimizer.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.Optimizer.prototype.doOptimize">
            function <span class="apidocSignatureSpan">segment.Optimizer.prototype.</span>doOptimize
            <span class="apidocSignatureSpan">(words, modules)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.segment.POSTAG">module segment.POSTAG</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.POSTAG.chsName">
            function <span class="apidocSignatureSpan">segment.POSTAG.</span>chsName
            <span class="apidocSignatureSpan">(p)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>A_M</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>A_NR</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>A_NS</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>A_NT</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>A_NX</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>A_NZ</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>A_Q</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>D_A</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>D_B</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>D_C</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>D_D</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>D_E</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>D_F</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>D_I</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>D_K</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>D_L</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>D_MQ</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>D_N</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>D_O</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>D_P</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>D_R</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>D_S</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>D_T</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>D_U</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>D_V</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>D_W</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>D_X</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>D_Y</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>D_Z</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>D_ZH</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>UNK</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>URL</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>a_m</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>a_nr</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>a_ns</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>a_nt</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>a_nx</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>a_nz</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>a_q</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>d_a</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>d_b</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>d_c</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>d_d</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>d_e</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>d_f</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>d_i</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>d_k</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>d_l</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>d_mq</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>d_n</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>d_o</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>d_p</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>d_r</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>d_s</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>d_t</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>d_u</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>d_v</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>d_w</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>d_x</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>d_y</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>d_z</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>d_zh</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>unk</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">segment.POSTAG.</span>url</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">segment.POSTAG.</span>CHSNAME</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.segment.PunctuationTokenizer">module segment.PunctuationTokenizer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.PunctuationTokenizer.init">
            function <span class="apidocSignatureSpan">segment.PunctuationTokenizer.</span>init
            <span class="apidocSignatureSpan">(segment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.PunctuationTokenizer.split">
            function <span class="apidocSignatureSpan">segment.PunctuationTokenizer.</span>split
            <span class="apidocSignatureSpan">(words)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">segment.PunctuationTokenizer.</span>type</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.segment.Segment">module segment.Segment</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.Segment.Segment">
            function <span class="apidocSignatureSpan">segment.</span>Segment
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">segment.Segment.</span>POSTAG</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">segment.Segment.</span>version</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.segment.Segment.prototype">module segment.Segment.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.Segment.prototype._resolveDictFilename">
            function <span class="apidocSignatureSpan">segment.Segment.prototype.</span>_resolveDictFilename
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.Segment.prototype.doSegment">
            function <span class="apidocSignatureSpan">segment.Segment.prototype.</span>doSegment
            <span class="apidocSignatureSpan">(text, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.Segment.prototype.getDict">
            function <span class="apidocSignatureSpan">segment.Segment.prototype.</span>getDict
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.Segment.prototype.indexOf">
            function <span class="apidocSignatureSpan">segment.Segment.prototype.</span>indexOf
            <span class="apidocSignatureSpan">(words, s, cur)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.Segment.prototype.loadDict">
            function <span class="apidocSignatureSpan">segment.Segment.prototype.</span>loadDict
            <span class="apidocSignatureSpan">(name, type, convert_to_lower)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.Segment.prototype.loadStopwordDict">
            function <span class="apidocSignatureSpan">segment.Segment.prototype.</span>loadStopwordDict
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.Segment.prototype.loadSynonymDict">
            function <span class="apidocSignatureSpan">segment.Segment.prototype.</span>loadSynonymDict
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.Segment.prototype.split">
            function <span class="apidocSignatureSpan">segment.Segment.prototype.</span>split
            <span class="apidocSignatureSpan">(words, s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.Segment.prototype.toString">
            function <span class="apidocSignatureSpan">segment.Segment.prototype.</span>toString
            <span class="apidocSignatureSpan">(words)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.Segment.prototype.use">
            function <span class="apidocSignatureSpan">segment.Segment.prototype.</span>use
            <span class="apidocSignatureSpan">(module)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.Segment.prototype.useDefault">
            function <span class="apidocSignatureSpan">segment.Segment.prototype.</span>useDefault
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.segment.SingleTokenizer">module segment.SingleTokenizer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.SingleTokenizer.init">
            function <span class="apidocSignatureSpan">segment.SingleTokenizer.</span>init
            <span class="apidocSignatureSpan">(segment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.SingleTokenizer.split">
            function <span class="apidocSignatureSpan">segment.SingleTokenizer.</span>split
            <span class="apidocSignatureSpan">(words)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">segment.SingleTokenizer.</span>type</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.segment.Tokenizer">module segment.Tokenizer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.Tokenizer.Tokenizer">
            function <span class="apidocSignatureSpan">segment.</span>Tokenizer
            <span class="apidocSignatureSpan">(segment)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.segment.Tokenizer.prototype">module segment.Tokenizer.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.Tokenizer.prototype.split">
            function <span class="apidocSignatureSpan">segment.Tokenizer.prototype.</span>split
            <span class="apidocSignatureSpan">(text, modules)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.segment.URLTokenizer">module segment.URLTokenizer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.URLTokenizer.init">
            function <span class="apidocSignatureSpan">segment.URLTokenizer.</span>init
            <span class="apidocSignatureSpan">(segment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.URLTokenizer.split">
            function <span class="apidocSignatureSpan">segment.URLTokenizer.</span>split
            <span class="apidocSignatureSpan">(words)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">segment.URLTokenizer.</span>type</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.segment.WildcardTokenizer">module segment.WildcardTokenizer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.WildcardTokenizer.init">
            function <span class="apidocSignatureSpan">segment.WildcardTokenizer.</span>init
            <span class="apidocSignatureSpan">(segment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.segment.WildcardTokenizer.split">
            function <span class="apidocSignatureSpan">segment.WildcardTokenizer.</span>split
            <span class="apidocSignatureSpan">(words)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">segment.WildcardTokenizer.</span>type</span>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.segment" id="apidoc.module.segment">module segment</a></h1>


    <h2>
        <a href="#apidoc.element.segment.segment" id="apidoc.element.segment.segment">
        function <span class="apidocSignatureSpan"></span>segment
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">segment = function () {
  this.POSTAG = POSTAG; // è¯æ€§
  this.DICT = {};       // è¯å…¸è¡¨
  this.modules = {
    tokenizer:  [],     // åˆ†è¯æ¨¡å—
    optimizer:  []      // ä¼˜åŒ–æ¨¡å—
  };
  this.tokenizer = new Tokenizer(this);
  this.optimizer = new Optimizer(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.segment.Optimizer" id="apidoc.element.segment.Optimizer">
        function <span class="apidocSignatureSpan">segment.</span>Optimizer
        <span class="apidocSignatureSpan">(segment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Optimizer = function (segment) {
  this.segment = segment;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.segment.Segment" id="apidoc.element.segment.Segment">
        function <span class="apidocSignatureSpan">segment.</span>Segment
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Segment = function () {
  this.POSTAG = POSTAG; // è¯æ€§
  this.DICT = {};       // è¯å…¸è¡¨
  this.modules = {
    tokenizer:  [],     // åˆ†è¯æ¨¡å—
    optimizer:  []      // ä¼˜åŒ–æ¨¡å—
  };
  this.tokenizer = new Tokenizer(this);
  this.optimizer = new Optimizer(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


var r = repl.start('&gt; ');
var c = r.context;

c._load = function () {
c.Segment = require('./');
var segment = new c.<span class="apidocCodeKeywordSpan">Segment</span>();
segment.useDefault();
c.segment = segment;
c.s = function () {
  return c.segment.doSegment.apply(c.segment, arguments);
};
c.ss = function () {
  var list = c.s.apply(null, arguments);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.segment.Tokenizer" id="apidoc.element.segment.Tokenizer">
        function <span class="apidocSignatureSpan">segment.</span>Tokenizer
        <span class="apidocSignatureSpan">(segment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Tokenizer = function (segment) {
  this.segment = segment;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.segment.ChsNameOptimizer" id="apidoc.module.segment.ChsNameOptimizer">module segment.ChsNameOptimizer</a></h1>


    <h2>
        <a href="#apidoc.element.segment.ChsNameOptimizer.doOptimize" id="apidoc.element.segment.ChsNameOptimizer.doOptimize">
        function <span class="apidocSignatureSpan">segment.ChsNameOptimizer.</span>doOptimize
        <span class="apidocSignatureSpan">(words)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">doOptimize = function (words) {
  //debug(words);
  var POSTAG = exports.segment.POSTAG;
  var i = 0;

<span class="apidocCodeCommentSpan">  /* ç¬¬ä¸€éæ‰«æ */
</span>  while (i &lt; words.length) {
    var word = words[i];
    var nextword = words[i + 1];
    if (nextword) {
      //debug(nextword);
      // å¦‚æžœä¸º  "å°|è€" + å§“
      if (nextword &amp;&amp; (word.w == 'å°' || word.w == 'è€') &amp;&amp;
      (nextword.w in FAMILY_NAME_1 || nextword.w in FAMILY_NAME_2)) {
        words.splice(i, 2, {
          w:  word.w + nextword.w,
          p:  POSTAG.A_NR
        });
        i++;
        continue;
      }

      // å¦‚æžœæ˜¯ å§“ + åï¼ˆ2å­—ä»¥å†…ï¼‰
      if ((word.w in FAMILY_NAME_1 || word.w in FAMILY_NAME_2) &amp;&amp;
      ((nextword.p &amp; POSTAG.A_NR) &gt; 0 &amp;&amp; nextword.w.length &lt;= 2)) {
        words.splice(i, 2, {
          w:  word.w + nextword.w,
          p:  POSTAG.A_NR
        });
        i++;
        continue;
      }

      // å¦‚æžœç›¸é‚»ä¸¤ä¸ªå‡ä¸ºå•å­—ä¸”è‡³å°‘æœ‰ä¸€ä¸ªå­—æ˜¯æœªè¯†åˆ«çš„ï¼Œåˆ™å°è¯•åˆ¤æ–­å…¶æ˜¯å¦ä¸ºäººå
      if (!word.p || !nextword.p) {
        if ((word.w in SINGLE_NAME &amp;&amp; word.w == nextword.w) ||
        (word.w in DOUBLE_NAME_1 &amp;&amp; nextword.w in DOUBLE_NAME_2)) {
          words.splice(i, 2, {
            w:  word.w + nextword.w,
            p:  POSTAG.A_NR
          });
          // å¦‚æžœä¸Šä¸€ä¸ªå•è¯å¯èƒ½æ˜¯ä¸€ä¸ªå§“ï¼Œåˆ™åˆå¹¶
          var preword = words[i - 1];
          if (preword &amp;&amp;
          (preword.w in FAMILY_NAME_1 || preword.w in FAMILY_NAME_2)) {
            words.splice(i - 1, 2, {
              w:  preword.w + word.w + nextword.w,
              p:  POSTAG.A_NR
            });
          } else {
            i++;
          }
          continue;
        }
      }

      // å¦‚æžœä¸º æ—&nbsp;æ­§ä¹‰çš„å§“ + åï¼ˆ2å­—ä»¥å†…ï¼‰ ä¸”å…¶ä¸­ä¸€ä¸ªæœªæœªè¯†åˆ«è¯
      if ((word.w in FAMILY_NAME_1 || word.w in FAMILY_NAME_2) &amp;&amp;
          (!word.p || !nextword.p)) {
        //debug(word, nextword);
        words.splice(i, 2, {
          w:  word.w + nextword.w,
          p:  POSTAG.A_NR
        });
      }
    }

    // ç§»åˆ°ä¸‹ä¸€ä¸ªå•è¯
    i++;
  }

  /* ç¬¬äºŒéæ‰«æ */
  i = 0;
  while (i &lt; words.length) {
    var word = words[i];
    var nextword = words[i + 1];
    if (nextword) {
      // å¦‚æžœä¸º å§“ + å•å­—å
      if ((word.w in FAMILY_NAME_1 || word.w in FAMILY_NAME_2) &amp;&amp;
      nextword.w in SINGLE_NAME) {
        words.splice(i, 2, {
          w:  word.w + nextword.w,
          p:  POSTAG.A_NR
        });
        i++;
        continue;
      }
    }

    // ç§»åˆ°ä¸‹ä¸€ä¸ªå•è¯
    i++;
  }

  return words;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param {array} words å•è¯æ•°ç»„
 * @param {array} modules åˆ†è¯æ¨¡å—æ•°ç»„
 * @return {array}
 */
Optimizer.prototype.doOptimize = function (words, modules) {
  // æŒ‰é¡ºåºåˆ†åˆ«è°ƒç”¨å„ä¸ªmoduleæ¥è¿›è¡Œåˆ†è¯ ï¼š å„ä¸ªmoduleä»…å¯¹æ²¡æœ‰è¯†åˆ«ç±»åž‹çš„å•è¯è¿›è¡Œåˆ†è¯
  modules.forEach(function (module) {
    words = module.<span class="apidocCodeKeywordSpan">doOptimize</span>(words);
  });
  return words;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.segment.ChsNameOptimizer.init" id="apidoc.element.segment.ChsNameOptimizer.init">
        function <span class="apidocSignatureSpan">segment.ChsNameOptimizer.</span>init
        <span class="apidocSignatureSpan">(segment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function (segment) {
  exports.segment = segment;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      if (!fs.existsSync(filename)) {
        throw Error('Cannot find module "' + module + '".');
      } else {
        module = require(filename);
      }
    }
    // åˆå§‹åŒ–å¹¶æ³¨å†Œæ¨¡å—
    module.<span class="apidocCodeKeywordSpan">init</span>(this);
    this.modules[module.type].push(module);
  }

  return this;
};

Segment.prototype._resolveDictFilename = function (name) {
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.segment.ChsNameTokenizer" id="apidoc.module.segment.ChsNameTokenizer">module segment.ChsNameTokenizer</a></h1>


    <h2>
        <a href="#apidoc.element.segment.ChsNameTokenizer.init" id="apidoc.element.segment.ChsNameTokenizer.init">
        function <span class="apidocSignatureSpan">segment.ChsNameTokenizer.</span>init
        <span class="apidocSignatureSpan">(segment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function (segment) {
  exports.segment = segment;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      if (!fs.existsSync(filename)) {
        throw Error('Cannot find module "' + module + '".');
      } else {
        module = require(filename);
      }
    }
    // åˆå§‹åŒ–å¹¶æ³¨å†Œæ¨¡å—
    module.<span class="apidocCodeKeywordSpan">init</span>(this);
    this.modules[module.type].push(module);
  }

  return this;
};

Segment.prototype._resolveDictFilename = function (name) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.segment.ChsNameTokenizer.split" id="apidoc.element.segment.ChsNameTokenizer.split">
        function <span class="apidocSignatureSpan">segment.ChsNameTokenizer.</span>split
        <span class="apidocSignatureSpan">(words)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">split = function (words) {
  var POSTAG = exports.segment.POSTAG;
  var ret = [];
  for (var i = 0, word; word = words[i]; i++) {
    if (word.p &gt; 0) {
      ret.push(word);
      continue;
    }
    // ä»…å¯¹æœªè¯†åˆ«çš„è¯è¿›è¡ŒåŒ¹é…
    var nameinfo = matchName(word.w);
    if (nameinfo.length &lt; 1) {
      ret.push(word);
      continue;
    }
    // åˆ†ç¦»å‡ºäººå
    var lastc = 0;
    for (var ui = 0, url; url = nameinfo[ui]; ui++) {
      if (url.c &gt; lastc) {
        ret.push({w: word.w.substr(lastc, url.c - lastc)});
      }
      ret.push({w: url.w, p: POSTAG.A_NR});
      lastc = url.c + url.w.length;
    }
    var lastn = nameinfo[nameinfo.length - 1];
    if (lastn.c + lastn.w.length &lt; word.w.length) {
      ret.push({w: word.w.substr(lastn.c + lastn.w.length)});
    }
  }
  return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  ret[i].ps = POSTAG.chsName(ret[i].p);
}
console.log(ret);
console.log(line);
console.log('spent ' + ((e - s) / NUM) + 'ms');
return;
console.log(segment.toString(ret));
var split = segment.<span class="apidocCodeKeywordSpan">split</span>(ret, 'æ˜¯');
for (var i in split)
  console.log(segment.toString(split[i]));
console.log(segment.indexOf(ret, 'çš„', 3));
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.segment.DatetimeOptimizer" id="apidoc.module.segment.DatetimeOptimizer">module segment.DatetimeOptimizer</a></h1>


    <h2>
        <a href="#apidoc.element.segment.DatetimeOptimizer.doOptimize" id="apidoc.element.segment.DatetimeOptimizer.doOptimize">
        function <span class="apidocSignatureSpan">segment.DatetimeOptimizer.</span>doOptimize
        <span class="apidocSignatureSpan">(words, is_not_first)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">doOptimize = function (words, is_not_first) {
  if (typeof is_not_first == 'undefined') {
    is_not_first = false;
  }
  // åˆå¹¶ç›¸é‚»çš„èƒ½ç»„æˆä¸€ä¸ªå•è¯çš„ä¸¤ä¸ªè¯
  var TABLE = exports.segment.getDict('TABLE');
  var POSTAG = exports.segment.POSTAG;

  var i = 0;
  var ie = words.length - 1;
  while (i &lt; ie) {
    var w1 = words[i];
    var w2 = words[i + 1];
    //debug(w1.w + ', ' + w2.w);

    if ((w1.p &amp; POSTAG.A_M) &gt; 0) {
      // =========================================
      // æ—¥æœŸæ—¶é—´ç»„åˆ   æ•°å­— + æ—¥æœŸå•ä½ï¼Œå¦‚ â€œ2005å¹´"
      if (w2.w in DATETIME) {
        var nw = w1.w + w2.w;
        var len = 2;
        // ç»§ç»­æœç´¢åŽé¢è¿žç»­çš„æ—¥æœŸæ—¶é—´æè¿°ï¼Œå¿…é¡»ç¬¦åˆ  æ•°å­— + æ—¥æœŸå•ä½
        while (true) {
          var w1 = words[i + len];
          var w2 = words[i + len + 1];
          if (w1 &amp;&amp; w2 &amp;&amp; (w1.p &amp; POSTAG.A_M) &gt; 0 &amp;&amp; w2.w in DATETIME) {
            len += 2;
            nw += w1.w + w2.w;
          } else {
            break;
          }
        }
        words.splice(i, len, {
          w:  nw,
          p:  POSTAG.D_T
        });
        ie -= len - 1;
        continue;
      }
      // =========================================
    }

    // ç§»åˆ°ä¸‹ä¸€ä¸ªè¯
    i++;
  }

  return words;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param {array} words å•è¯æ•°ç»„
 * @param {array} modules åˆ†è¯æ¨¡å—æ•°ç»„
 * @return {array}
 */
Optimizer.prototype.doOptimize = function (words, modules) {
  // æŒ‰é¡ºåºåˆ†åˆ«è°ƒç”¨å„ä¸ªmoduleæ¥è¿›è¡Œåˆ†è¯ ï¼š å„ä¸ªmoduleä»…å¯¹æ²¡æœ‰è¯†åˆ«ç±»åž‹çš„å•è¯è¿›è¡Œåˆ†è¯
  modules.forEach(function (module) {
    words = module.<span class="apidocCodeKeywordSpan">doOptimize</span>(words);
  });
  return words;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.segment.DatetimeOptimizer.init" id="apidoc.element.segment.DatetimeOptimizer.init">
        function <span class="apidocSignatureSpan">segment.DatetimeOptimizer.</span>init
        <span class="apidocSignatureSpan">(segment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function (segment) {
  exports.segment = segment;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      if (!fs.existsSync(filename)) {
        throw Error('Cannot find module "' + module + '".');
      } else {
        module = require(filename);
      }
    }
    // åˆå§‹åŒ–å¹¶æ³¨å†Œæ¨¡å—
    module.<span class="apidocCodeKeywordSpan">init</span>(this);
    this.modules[module.type].push(module);
  }

  return this;
};

Segment.prototype._resolveDictFilename = function (name) {
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.segment.DictOptimizer" id="apidoc.module.segment.DictOptimizer">module segment.DictOptimizer</a></h1>


    <h2>
        <a href="#apidoc.element.segment.DictOptimizer.doOptimize" id="apidoc.element.segment.DictOptimizer.doOptimize">
        function <span class="apidocSignatureSpan">segment.DictOptimizer.</span>doOptimize
        <span class="apidocSignatureSpan">(words, is_not_first)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">doOptimize = function (words, is_not_first) {
  //debug(words);
  if (typeof is_not_first == 'undefined') {
    is_not_first = false;
  }
  // åˆå¹¶ç›¸é‚»çš„èƒ½ç»„æˆä¸€ä¸ªå•è¯çš„ä¸¤ä¸ªè¯
  var TABLE = exports.segment.getDict('TABLE');
  var POSTAG = exports.segment.POSTAG;

  var i = 0;
  var ie = words.length - 1;
  while (i &lt; ie) {
    var w1 = words[i];
    var w2 = words[i + 1];
    //debug(w1.w + ', ' + w2.w);

    // ==========================================
    // èƒ½ç»„æˆä¸€ä¸ªæ–°è¯çš„(è¯æ€§å¿…é¡»ç›¸åŒ)
    var nw = w1.w + w2.w;
    if (w1.p == w2.p &amp;&amp; nw in TABLE) {
      words.splice(i, 2, {
        w:  nw,
        p:  TABLE[nw].p
      });
      ie--;
      continue;
    }

    // å½¢å®¹è¯ + åŠ©è¯ = å½¢å®¹è¯ï¼Œå¦‚ï¼š ä¸åŒ + çš„ = ä¸åŒçš„
    if ((w1.p &amp; POSTAG.D_A) &gt; 0 &amp;&amp; (w2.p &amp; POSTAG.D_U)) {
      words.splice(i, 2, {
        w:  nw,
        p:  POSTAG.D_A
      });
      ie--;
      continue;
    }

    // ============================================
    // æ•°è¯ç»„åˆ
    if ((w1.p &amp; POSTAG.A_M) &gt; 0) {
      //debug(w2.w + ' ' + (w2.p &amp; POSTAG.A_M));
      // ç™¾åˆ†æ¯”æ•°å­— å¦‚ 10%ï¼Œæˆ–è€…ä¸‹ä¸€ä¸ªè¯ä¹Ÿæ˜¯æ•°è¯ï¼Œåˆ™åˆå¹¶
      if ((w2.p &amp; POSTAG.A_M) &gt; 0 || w2.w == '%') {
        words.splice(i, 2, {
          w:  w1.w + w2.w,
          p:  POSTAG.A_M
        });
        ie--;
        continue;
      }
      // æ•°è¯ + é‡è¯ï¼Œåˆå¹¶ã€‚å¦‚ï¼š 100ä¸ª
      if ((w2.p &amp; POSTAG.A_Q) &gt; 0) {
        words.splice(i, 2, {
          w:  w1.w + w2.w,
          p:  POSTAG.D_MQ // æ•°é‡è¯
        });
        ie--;
        continue;
      }
      // å¸¦å°æ•°ç‚¹çš„æ•°å­— ï¼Œå¦‚ â€œ3 . 14â€ï¼Œæˆ–è€… â€œåäº”ç‚¹ä¸‰â€
      // æ•°è¯ + "åˆ†ä¹‹" + æ•°è¯ï¼Œå¦‚â€œäº”ååˆ†ä¹‹ä¸€â€
      var w3 = words[i + 2];
      if (w3 &amp;&amp; (w3.p &amp; POSTAG.A_M) &gt; 0 &amp;&amp;
         (w2.w == '.' || w2.w == 'ç‚¹' || w2.w == 'åˆ†ä¹‹')) {
        words.splice(i, 3, {
          w:  w1.w + w2.w + w3.w,
          p:  POSTAG.A_M
        });
        ie -= 2;
        continue;
      }
    }

    // ä¿®æ­£ â€œåäº”ç‚¹äº”å…«â€é—®é¢˜
    if ((w1.p &amp; POSTAG.D_MQ) &gt; 0 &amp;&amp; w1.w.substr(-1) === 'ç‚¹' &amp;&amp; w2.p &amp; POSTAG.A_M) {
      //debug(w1, w2);
      var i2 = 2;
      var w4w = '';
      for (var j = i + i2; j &lt; ie; j++) {
        var w3 = words[j];
        if ((w3.p &amp; POSTAG.A_M) &gt; 0) {
          w4w += w3.w;
          i2++;
        } else {
          break;
        }
      }
      words.splice(i, i2, {
        w:  w1.w + w2.w + w4w,
        p:  POSTAG.D_MQ // æ•°é‡è¯
      });
      ie -= i2 - 1;
      continue;
    }

    // ç§»åˆ°ä¸‹ä¸€ä¸ªè¯
    i++;
  }

  // é’ˆå¯¹ç»„åˆæ•°å­—åŽæ—&nbsp;æ³•è¯†åˆ«æ–°ç»„åˆçš„æ•°å­—é—®é¢˜ï¼Œéœ€è¦é‡æ–°æ‰«æä¸€æ¬¡
  return is_not_first === true ? words : exports.doOptimize(words, true);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param {array} words å•è¯æ•°ç»„
 * @param {array} modules åˆ†è¯æ¨¡å—æ•°ç»„
 * @return {array}
 */
Optimizer.prototype.doOptimize = function (words, modules) {
  // æŒ‰é¡ºåºåˆ†åˆ«è°ƒç”¨å„ä¸ªmoduleæ¥è¿›è¡Œåˆ†è¯ ï¼š å„ä¸ªmoduleä»…å¯¹æ²¡æœ‰è¯†åˆ«ç±»åž‹çš„å•è¯è¿›è¡Œåˆ†è¯
  modules.forEach(function (module) {
    words = module.<span class="apidocCodeKeywordSpan">doOptimize</span>(words);
  });
  return words;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.segment.DictOptimizer.init" id="apidoc.element.segment.DictOptimizer.init">
        function <span class="apidocSignatureSpan">segment.DictOptimizer.</span>init
        <span class="apidocSignatureSpan">(segment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function (segment) {
  exports.segment = segment;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      if (!fs.existsSync(filename)) {
        throw Error('Cannot find module "' + module + '".');
      } else {
        module = require(filename);
      }
    }
    // åˆå§‹åŒ–å¹¶æ³¨å†Œæ¨¡å—
    module.<span class="apidocCodeKeywordSpan">init</span>(this);
    this.modules[module.type].push(module);
  }

  return this;
};

Segment.prototype._resolveDictFilename = function (name) {
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.segment.DictTokenizer" id="apidoc.module.segment.DictTokenizer">module segment.DictTokenizer</a></h1>


    <h2>
        <a href="#apidoc.element.segment.DictTokenizer.init" id="apidoc.element.segment.DictTokenizer.init">
        function <span class="apidocSignatureSpan">segment.DictTokenizer.</span>init
        <span class="apidocSignatureSpan">(segment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function (segment) {
  exports.segment = segment;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      if (!fs.existsSync(filename)) {
        throw Error('Cannot find module "' + module + '".');
      } else {
        module = require(filename);
      }
    }
    // åˆå§‹åŒ–å¹¶æ³¨å†Œæ¨¡å—
    module.<span class="apidocCodeKeywordSpan">init</span>(this);
    this.modules[module.type].push(module);
  }

  return this;
};

Segment.prototype._resolveDictFilename = function (name) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.segment.DictTokenizer.split" id="apidoc.element.segment.DictTokenizer.split">
        function <span class="apidocSignatureSpan">segment.DictTokenizer.</span>split
        <span class="apidocSignatureSpan">(words)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">split = function (words) {
  // debug(words);
  var POSTAG = exports.segment.POSTAG;
  var TABLE = exports.segment.getDict('TABLE');
  var ret = [];
  for (var i = 0, word; word = words[i]; i++) {
    if (word.p &gt; 0) {
      ret.push(word);
      continue;
    }
    // ä»…å¯¹æœªè¯†åˆ«çš„è¯è¿›è¡ŒåŒ¹é…
    var wordinfo = matchWord(word.w, 0, words[i - 1]);
    if (wordinfo.length &lt; 1) {
      ret.push(word);
      continue;
    }
    // åˆ†ç¦»å‡ºå·²è¯†åˆ«çš„å•è¯
    var lastc = 0;
    for (var ui = 0, bw; bw = wordinfo[ui]; ui++) {
      if (bw.c &gt; lastc) {
        ret.push({w: word.w.substr(lastc, bw.c - lastc)});
      }
      ret.push({w: bw.w, p: TABLE[bw.w].p});
      lastc = bw.c + bw.w.length;
    }
    var lastword = wordinfo[wordinfo.length - 1];
    if (lastword.c + lastword.w.length &lt; word.w.length) {
      ret.push({w: word.w.substr(lastword.c + lastword.w.length)});
    }
  }
  return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  ret[i].ps = POSTAG.chsName(ret[i].p);
}
console.log(ret);
console.log(line);
console.log('spent ' + ((e - s) / NUM) + 'ms');
return;
console.log(segment.toString(ret));
var split = segment.<span class="apidocCodeKeywordSpan">split</span>(ret, 'æ˜¯');
for (var i in split)
  console.log(segment.toString(split[i]));
console.log(segment.indexOf(ret, 'çš„', 3));
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.segment.EmailOptimizer" id="apidoc.module.segment.EmailOptimizer">module segment.EmailOptimizer</a></h1>


    <h2>
        <a href="#apidoc.element.segment.EmailOptimizer.doOptimize" id="apidoc.element.segment.EmailOptimizer.doOptimize">
        function <span class="apidocSignatureSpan">segment.EmailOptimizer.</span>doOptimize
        <span class="apidocSignatureSpan">(words)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">doOptimize = function (words) {
  var POSTAG = exports.segment.POSTAG;
  //debug(words);

  var i = 0;
  var ie = words.length - 1;
  var addr_start = false;
  var has_at = false;
  while (i &lt; ie) {
    var word = words[i];
    var is_ascii = ((word.p == POSTAG.A_NX) ||
            (word.p == POSTAG.A_M &amp;&amp; word.w.charCodeAt(0) &lt; 128))
            ? true : false;

    // å¦‚æžœæ˜¯å¤–æ–‡å­—ç¬¦æˆ–è€…æ•°å­—ï¼Œç¬¦åˆç”µå­é‚®ä»¶åœ°å€å¼€å¤´çš„æ¡ä»¶
    if (addr_start === false &amp;&amp; is_ascii) {
      addr_start = i;
      i++;
      continue;
    } else {
      // å¦‚æžœé‡åˆ°@ç¬¦å·ï¼Œç¬¦åˆç¬¬äºŒä¸ªæ¡ä»¶
      if (has_at === false &amp;&amp; word.w == '@') {
        has_at = true;
        i++;
        continue;
      }
      // å¦‚æžœå·²ç»é‡åˆ°è¿‡@ç¬¦å·ï¼Œä¸”å‡ºçŽ°äº†å…¶ä»–å­—ç¬¦ï¼Œåˆ™æˆªå–é‚®ç®±åœ°å€
      if (has_at !== false &amp;&amp; words[i - 1].w != '@' &amp;&amp; is_ascii === false &amp;&amp; !(word.w in EMAILCHAR)) {
        var mailws = words.slice(addr_start, i);
        //debug(toEmailAddress(mailws));
        words.splice(addr_start, mailws.length, {
          w:  toEmailAddress(mailws),
          p:  POSTAG.URL
        });
        i = addr_start + 1;
        ie -= mailws.length - 1;
        addr_start = false;
        has_at = false;
        continue;
      }
      // å¦‚æžœå·²ç»å¼€å¤´
      if (addr_start !== false &amp;&amp; (is_ascii || word.w in EMAILCHAR)) {
        i++;
        continue;
      }
    }

    // ç§»åˆ°ä¸‹ä¸€ä¸ªè¯
    addr_start = false;
    has_at = false;
    i++;
  }

  // æ£€æŸ¥å‰©ä½™éƒ¨åˆ†
  if (addr_start &amp;&amp; has_at &amp;&amp; words[ie]) {
    var word = words[ie];
    var is_ascii = ((word.p == POSTAG.A_NX) ||
            (word.p == POSTAG.A_M &amp;&amp; word.w in EMAILCHAR))
            ? true : false;
    if (is_ascii) {
      var mailws = words.slice(addr_start, words.length);
      //debug(toEmailAddress(mailws));
      words.splice(addr_start, mailws.length, {
        w:  toEmailAddress(mailws),
        p:  POSTAG.URL
      });
    }
  }

  return words;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param {array} words å•è¯æ•°ç»„
 * @param {array} modules åˆ†è¯æ¨¡å—æ•°ç»„
 * @return {array}
 */
Optimizer.prototype.doOptimize = function (words, modules) {
  // æŒ‰é¡ºåºåˆ†åˆ«è°ƒç”¨å„ä¸ªmoduleæ¥è¿›è¡Œåˆ†è¯ ï¼š å„ä¸ªmoduleä»…å¯¹æ²¡æœ‰è¯†åˆ«ç±»åž‹çš„å•è¯è¿›è¡Œåˆ†è¯
  modules.forEach(function (module) {
    words = module.<span class="apidocCodeKeywordSpan">doOptimize</span>(words);
  });
  return words;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.segment.EmailOptimizer.init" id="apidoc.element.segment.EmailOptimizer.init">
        function <span class="apidocSignatureSpan">segment.EmailOptimizer.</span>init
        <span class="apidocSignatureSpan">(segment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function (segment) {
  exports.segment = segment;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      if (!fs.existsSync(filename)) {
        throw Error('Cannot find module "' + module + '".');
      } else {
        module = require(filename);
      }
    }
    // åˆå§‹åŒ–å¹¶æ³¨å†Œæ¨¡å—
    module.<span class="apidocCodeKeywordSpan">init</span>(this);
    this.modules[module.type].push(module);
  }

  return this;
};

Segment.prototype._resolveDictFilename = function (name) {
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.segment.ForeignTokenizer" id="apidoc.module.segment.ForeignTokenizer">module segment.ForeignTokenizer</a></h1>


    <h2>
        <a href="#apidoc.element.segment.ForeignTokenizer.init" id="apidoc.element.segment.ForeignTokenizer.init">
        function <span class="apidocSignatureSpan">segment.ForeignTokenizer.</span>init
        <span class="apidocSignatureSpan">(segment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function (segment) {
  exports.segment = segment;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      if (!fs.existsSync(filename)) {
        throw Error('Cannot find module "' + module + '".');
      } else {
        module = require(filename);
      }
    }
    // åˆå§‹åŒ–å¹¶æ³¨å†Œæ¨¡å—
    module.<span class="apidocCodeKeywordSpan">init</span>(this);
    this.modules[module.type].push(module);
  }

  return this;
};

Segment.prototype._resolveDictFilename = function (name) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.segment.ForeignTokenizer.split" id="apidoc.element.segment.ForeignTokenizer.split">
        function <span class="apidocSignatureSpan">segment.ForeignTokenizer.</span>split
        <span class="apidocSignatureSpan">(words)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">split = function (words) {
  var POSTAG = exports.segment.POSTAG;
  var ret = [];
  for (var i = 0, word; word = words[i]; i++) {
    if (word.p) {
      ret.push(word);
    } else {
      // ä»…å¯¹æœªè¯†åˆ«çš„è¯è¿›è¡ŒåŒ¹é…
      ret = ret.concat(splitForeign(word.w));
    }
  }
  return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  ret[i].ps = POSTAG.chsName(ret[i].p);
}
console.log(ret);
console.log(line);
console.log('spent ' + ((e - s) / NUM) + 'ms');
return;
console.log(segment.toString(ret));
var split = segment.<span class="apidocCodeKeywordSpan">split</span>(ret, 'æ˜¯');
for (var i in split)
  console.log(segment.toString(split[i]));
console.log(segment.indexOf(ret, 'çš„', 3));
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.segment.Optimizer" id="apidoc.module.segment.Optimizer">module segment.Optimizer</a></h1>


    <h2>
        <a href="#apidoc.element.segment.Optimizer.Optimizer" id="apidoc.element.segment.Optimizer.Optimizer">
        function <span class="apidocSignatureSpan">segment.</span>Optimizer
        <span class="apidocSignatureSpan">(segment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Optimizer = function (segment) {
  this.segment = segment;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.segment.Optimizer.prototype" id="apidoc.module.segment.Optimizer.prototype">module segment.Optimizer.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.segment.Optimizer.prototype.doOptimize" id="apidoc.element.segment.Optimizer.prototype.doOptimize">
        function <span class="apidocSignatureSpan">segment.Optimizer.prototype.</span>doOptimize
        <span class="apidocSignatureSpan">(words, modules)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">doOptimize = function (words, modules) {
  // æŒ‰é¡ºåºåˆ†åˆ«è°ƒç”¨å„ä¸ªmoduleæ¥è¿›è¡Œåˆ†è¯ ï¼š å„ä¸ªmoduleä»…å¯¹æ²¡æœ‰è¯†åˆ«ç±»åž‹çš„å•è¯è¿›è¡Œåˆ†è¯
  modules.forEach(function (module) {
    words = module.doOptimize(words);
  });
  return words;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param {array} words å•è¯æ•°ç»„
 * @param {array} modules åˆ†è¯æ¨¡å—æ•°ç»„
 * @return {array}
 */
Optimizer.prototype.doOptimize = function (words, modules) {
  // æŒ‰é¡ºåºåˆ†åˆ«è°ƒç”¨å„ä¸ªmoduleæ¥è¿›è¡Œåˆ†è¯ ï¼š å„ä¸ªmoduleä»…å¯¹æ²¡æœ‰è¯†åˆ«ç±»åž‹çš„å•è¯è¿›è¡Œåˆ†è¯
  modules.forEach(function (module) {
    words = module.<span class="apidocCodeKeywordSpan">doOptimize</span>(words);
  });
  return words;
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.segment.POSTAG" id="apidoc.module.segment.POSTAG">module segment.POSTAG</a></h1>


    <h2>
        <a href="#apidoc.element.segment.POSTAG.chsName" id="apidoc.element.segment.POSTAG.chsName">
        function <span class="apidocSignatureSpan">segment.POSTAG.</span>chsName
        <span class="apidocSignatureSpan">(p)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">chsName = function (p) {
  if (isNaN(p)) {
    return CHSNAME[p] || CHSNAME.UNK;
  } else {
    var ret = [];
    for (var i in _POSTAG) {
      if ((p &amp; _POSTAG[i]) &gt; 0) {
        ret.push(CHSNAME[i]);
      }
    }
    if (ret.length &lt; 1) {
      return CHSNAME.UNK;
    } else {
      return ret.toString();
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var ret = segment.doSegment(text);

////////////////////////////////////////////////////////////
var e = new Date().getTime();
var line = '';
for (var i in ret) {
  line += ret[i].w + '/';
  ret[i].ps = POSTAG.<span class="apidocCodeKeywordSpan">chsName</span>(ret[i].p);
}
console.log(ret);
console.log(line);
console.log('spent ' + ((e - s) / NUM) + 'ms');
return;
console.log(segment.toString(ret));
var split = segment.split(ret, 'æ˜¯');
...</pre></li>
    </ul>




































































































































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.segment.PunctuationTokenizer" id="apidoc.module.segment.PunctuationTokenizer">module segment.PunctuationTokenizer</a></h1>


    <h2>
        <a href="#apidoc.element.segment.PunctuationTokenizer.init" id="apidoc.element.segment.PunctuationTokenizer.init">
        function <span class="apidocSignatureSpan">segment.PunctuationTokenizer.</span>init
        <span class="apidocSignatureSpan">(segment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function (segment) {
  exports.segment = segment;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      if (!fs.existsSync(filename)) {
        throw Error('Cannot find module "' + module + '".');
      } else {
        module = require(filename);
      }
    }
    // åˆå§‹åŒ–å¹¶æ³¨å†Œæ¨¡å—
    module.<span class="apidocCodeKeywordSpan">init</span>(this);
    this.modules[module.type].push(module);
  }

  return this;
};

Segment.prototype._resolveDictFilename = function (name) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.segment.PunctuationTokenizer.split" id="apidoc.element.segment.PunctuationTokenizer.split">
        function <span class="apidocSignatureSpan">segment.PunctuationTokenizer.</span>split
        <span class="apidocSignatureSpan">(words)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">split = function (words) {
  var POSTAG = exports.segment.POSTAG;
  var ret = [];
  for (var i = 0, word; word = words[i]; i++) {
    if (word.p &gt; 0) {
      ret.push(word);
      continue;
    }
    // ä»…å¯¹æœªè¯†åˆ«çš„è¯è¿›è¡ŒåŒ¹é…
    var stopinfo = matchStopword(word.w);
    if (stopinfo.length &lt; 1) {
      ret.push(word);
      continue;
    }
    // åˆ†ç¦»å‡ºæ&nbsp;‡ç‚¹ç¬¦å·
    var lastc = 0;
    for (var ui = 0, sw; sw = stopinfo[ui]; ui++) {
      if (sw.c &gt; lastc) {
        ret.push({w: word.w.substr(lastc, sw.c - lastc)});
      }
      // å¿½ç•¥ç©ºæ&nbsp;¼
      if (sw.w != ' ') {
        ret.push({w: sw.w, p: POSTAG.D_W});
      }
      lastc = sw.c + sw.w.length;
    }
    var lastsw = stopinfo[stopinfo.length - 1];
    if (lastsw.c + lastsw.w.length &lt; word.w.length) {
      ret.push({w: word.w.substr(lastsw.c + lastsw.w.length)});
    }
  }
  return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  ret[i].ps = POSTAG.chsName(ret[i].p);
}
console.log(ret);
console.log(line);
console.log('spent ' + ((e - s) / NUM) + 'ms');
return;
console.log(segment.toString(ret));
var split = segment.<span class="apidocCodeKeywordSpan">split</span>(ret, 'æ˜¯');
for (var i in split)
  console.log(segment.toString(split[i]));
console.log(segment.indexOf(ret, 'çš„', 3));
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.segment.Segment" id="apidoc.module.segment.Segment">module segment.Segment</a></h1>


    <h2>
        <a href="#apidoc.element.segment.Segment.Segment" id="apidoc.element.segment.Segment.Segment">
        function <span class="apidocSignatureSpan">segment.</span>Segment
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Segment = function () {
  this.POSTAG = POSTAG; // è¯æ€§
  this.DICT = {};       // è¯å…¸è¡¨
  this.modules = {
    tokenizer:  [],     // åˆ†è¯æ¨¡å—
    optimizer:  []      // ä¼˜åŒ–æ¨¡å—
  };
  this.tokenizer = new Tokenizer(this);
  this.optimizer = new Optimizer(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


var r = repl.start('&gt; ');
var c = r.context;

c._load = function () {
c.Segment = require('./');
var segment = new c.<span class="apidocCodeKeywordSpan">Segment</span>();
segment.useDefault();
c.segment = segment;
c.s = function () {
  return c.segment.doSegment.apply(c.segment, arguments);
};
c.ss = function () {
  var list = c.s.apply(null, arguments);
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.segment.Segment.prototype" id="apidoc.module.segment.Segment.prototype">module segment.Segment.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.segment.Segment.prototype._resolveDictFilename" id="apidoc.element.segment.Segment.prototype._resolveDictFilename">
        function <span class="apidocSignatureSpan">segment.Segment.prototype.</span>_resolveDictFilename
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_resolveDictFilename = function (name) {
  var filename = path.resolve(name);
  if (!fs.existsSync(filename)) {
    var filename = path.resolve(__dirname, '../dicts', name);
    if (!fs.existsSync(filename)) {
      throw Error('Cannot find dict file "' + filename + '".');
    }
  }
  return filename;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 *
 * @param {String} name å­—å…¸æ–‡ä»¶å
 * @param {String} type ç±»åž‹
 * @param {Boolean} convert_to_lower æ˜¯å¦å…¨éƒ¨è½¬æ¢ä¸ºå°å†™
 * @return {Segment}
 */
Segment.prototype.loadDict = function (name, type, convert_to_lower) {
var filename = this.<span class="apidocCodeKeywordSpan">_resolveDictFilename</span>(name);
if (!type)  type = 'TABLE';     // é»˜è®¤ä¸ºTABLE

// åˆå§‹åŒ–è¯å…¸
if (!this.DICT[type]) this.DICT[type] = {};
if (!this.DICT[type + '2']) this.DICT[type + '2'] = {};
var TABLE = this.DICT[type];        // è¯å…¸è¡¨  'è¯' =&gt; {å±žæ€§}
var TABLE2 = this.DICT[type + '2']; // è¯å…¸è¡¨  'é•¿åº¦' =&gt; 'è¯' =&gt; å±žæ€§
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.segment.Segment.prototype.doSegment" id="apidoc.element.segment.Segment.prototype.doSegment">
        function <span class="apidocSignatureSpan">segment.Segment.prototype.</span>doSegment
        <span class="apidocSignatureSpan">(text, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">doSegment = function (text, options) {
  var me = this;
  options = options || {};
  var ret = [];

  // å°†æ–‡æœ¬æŒ‰ç…§æ¢è¡Œç¬¦åˆ†å‰²æˆå¤šæ®µï¼Œå¹¶é€ä¸€åˆ†è¯
  text.replace(/\r/g, '\n').split(/(\n|\s)+/).forEach(function (section) {
    var section = section.trim();
    if (section.length &lt; 1) return;
    // ======================================
    // åˆ†è¯
    var sret = me.tokenizer.split(section, me.modules.tokenizer);

    // ä¼˜åŒ–
    sret = me.optimizer.doOptimize(sret, me.modules.optimizer);

    // ======================================
    // è¿žæŽ¥åˆ†è¯ç»“æžœ
    if (sret.length &gt; 0) ret = ret.concat(sret);
  });

  // åŽ»é™¤æ&nbsp;‡ç‚¹ç¬¦å·
  if (options.stripPunctuation) {
    ret = ret.filter(function (item) {
      return item.p !== POSTAG.D_W;
    });
  }

  // è½¬æ¢åŒä¹‰è¯
  function convertSynonym (list) {
    var count = 0;
    var TABLE = me.getDict('SYNONYM');
    list = list.map(function (item) {
      if (item.w in TABLE) {
        count++;
        return {w: TABLE[item.w], p: item.p};
      } else {
        return item;
      }
    });
    return {count: count, list: list};
  }
  if (options.convertSynonym) {
    do {
      var result = convertSynonym(ret);
      ret = result.list;
    } while (result.count &gt; 0);
  }

  // åŽ»é™¤åœæ­¢ç¬¦
  if (options.stripStopword) {
    var STOPWORD = me.getDict('STOPWORD');
    ret = ret.filter(function (item) {
      return !(item.w in STOPWORD);
    });
  }

  // ä»…è¿”å›žå•è¯å†…å®¹
  if (options.simple) {
    ret = ret.map(function (item) {
      return item.w;
    });
  }

  return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/*
ä½¿ç”¨ç¤ºä¾‹ï¼š

var segment = new Segment();
// ä½¿ç”¨é»˜è®¤çš„è¯†åˆ«æ¨¡å—åŠå­—å…¸
segment.useDefault();
// å¼€å§‹åˆ†è¯
console.log(segment.<span class="apidocCodeKeywordSpan">doSegment</span>('è¿™æ˜¯ä¸€ä¸ªåŸºäºŽNode.jsçš„ä¸­æ–‡åˆ†è¯æ¨¡å—ã€‚'));

*/
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.segment.Segment.prototype.getDict" id="apidoc.element.segment.Segment.prototype.getDict">
        function <span class="apidocSignatureSpan">segment.Segment.prototype.</span>getDict
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDict = function (type) {
  return this.DICT[type];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return item.p !== POSTAG.D_W;
  });
}

// è½¬æ¢åŒä¹‰è¯
function convertSynonym (list) {
  var count = 0;
  var TABLE = me.<span class="apidocCodeKeywordSpan">getDict</span>('SYNONYM');
  list = list.map(function (item) {
    if (item.w in TABLE) {
      count++;
      return {w: TABLE[item.w], p: item.p};
    } else {
      return item;
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.segment.Segment.prototype.indexOf" id="apidoc.element.segment.Segment.prototype.indexOf">
        function <span class="apidocSignatureSpan">segment.Segment.prototype.</span>indexOf
        <span class="apidocSignatureSpan">(words, s, cur)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">indexOf = function (words, s, cur) {
  cur = isNaN(cur) ? 0 : cur;
  var f = typeof s === 'string' ? 'w' : 'p';

  while (cur &lt; words.length) {
    if (words[cur][f] == s) return cur;
    cur++;
  }

  return -1;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  };
};

c.reload = function () {
  var t = Date.now();
  var dir = path.resolve(__dirname) + path.sep;
  for (var i in require.cache) {
    if (i.<span class="apidocCodeKeywordSpan">indexOf</span>(dir) === 0) {
      delete require.cache[i];
      // console.log('delete %s', i);
    }
  }
  c._load();
  console.log('OK. (spent %sms)', Date.now() - t);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.segment.Segment.prototype.loadDict" id="apidoc.element.segment.Segment.prototype.loadDict">
        function <span class="apidocSignatureSpan">segment.Segment.prototype.</span>loadDict
        <span class="apidocSignatureSpan">(name, type, convert_to_lower)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">loadDict = function (name, type, convert_to_lower) {
  var filename = this._resolveDictFilename(name);
  if (!type)  type = 'TABLE';     // é»˜è®¤ä¸ºTABLE

  // åˆå§‹åŒ–è¯å…¸
  if (!this.DICT[type]) this.DICT[type] = {};
  if (!this.DICT[type + '2']) this.DICT[type + '2'] = {};
  var TABLE = this.DICT[type];        // è¯å…¸è¡¨  'è¯' =&gt; {å±žæ€§}
  var TABLE2 = this.DICT[type + '2']; // è¯å…¸è¡¨  'é•¿åº¦' =&gt; 'è¯' =&gt; å±žæ€§
  // å¯¼å…¥æ•°æ®
  var POSTAG = this.POSTAG;
  var data = fs.readFileSync(filename, 'utf8');
  if (convert_to_lower) data = data.toLowerCase();

  data.split(/\r?\n/).forEach(function (line) {
    var blocks = line.split('|');
    if (blocks.length &gt; 2) {
      var w = blocks[0].trim();
      var p = Number(blocks[1]);
      var f = Number(blocks[2]);

      // ä¸€å®šè¦æ£€æŸ¥å•è¯æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æžœä¸ºç©ºä¼šå¯¼è‡´Bug
      if (w.length &gt; 0) {
        TABLE[w] = {f: f, p: p};
        if (!TABLE2[w.length]) TABLE2[w.length] = {};
        TABLE2[w.length][w] = TABLE[w];
      }
    }
  });

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```javascript
// è½½å…¥æ¨¡å—
var Segment = require('segment');
// åˆ›å»ºå®žä¾‹
var segment = new Segment();
// é…ç½®ï¼Œå¯æ&nbsp;¹æ®å®žé™…æƒ…å†µå¢žåˆ&nbsp;ï¼Œè¯¦è§segment.useDefault()æ–¹æ³•
segment.use('URLTokenizer');  // è½½å…¥è¯†åˆ«æ¨¡å—ï¼Œè¯¦è§lib/moduleç›®å½•ï¼Œæˆ–è€…æ˜¯è‡ªå®šä¹‰æ¨¡å—çš„ç»å¯¹è·¯å¾„
segment.<span class="apidocCodeKeywordSpan">loadDict</span>('dict.txt'); // è½½å…¥å­—å…¸ï¼Œè¯¦è§dictsç›®å½•ï¼Œæˆ–è€…æ˜¯è‡ªå®šä¹‰å­—å…¸æ–‡ä»¶çš„ç»å¯¹è·¯å¾„

// å¼€å§‹åˆ†è¯
console.log(segment.doSegment('è¿™æ˜¯ä¸€ä¸ªåŸºäºŽNode.jsçš„ä¸­æ–‡åˆ†è¯æ¨¡å—ã€‚'));
```

ä¸€èˆ¬å¯é€šè¿‡ `segment.useDefault()` æ¥è½½å…¥é»˜è®¤çš„é…ç½®ï¼Œè‹¥è¦è‡ªå®šä¹‰åŠ&nbsp;è½½ï¼Œå¯å‚è€ƒ `useDefault()` çš„ä»£ç&nbsp;ï¼š
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.segment.Segment.prototype.loadStopwordDict" id="apidoc.element.segment.Segment.prototype.loadStopwordDict">
        function <span class="apidocSignatureSpan">segment.Segment.prototype.</span>loadStopwordDict
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">loadStopwordDict = function (name) {
  var filename = this._resolveDictFilename(name);
  var type = 'STOPWORD';

  // åˆå§‹åŒ–è¯å…¸
  if (!this.DICT[type]) this.DICT[type] = {};
  var TABLE = this.DICT[type];        // è¯å…¸è¡¨  'åŒä¹‰è¯' =&gt; 'æ&nbsp;‡å‡†è¯'
  // å¯¼å…¥æ•°æ®
  var data = fs.readFileSync(filename, 'utf8');

  data.split(/\r?\n/).forEach(function (line) {
    line = line.trim();
    if (line) {
      TABLE[line] = true;
    }
  });

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

### åŽ»é™¤åœæ­¢ç¬¦

è½½å…¥è¯å…¸ï¼š

```javascript
segment.<span class="apidocCodeKeywordSpan">loadStopwordDict</span>('stopword.txt');
```

è¯å…¸æ&nbsp;¼å¼ï¼š

```
ä¹‹æ‰€ä»¥
å›&nbsp;ä¸º
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.segment.Segment.prototype.loadSynonymDict" id="apidoc.element.segment.Segment.prototype.loadSynonymDict">
        function <span class="apidocSignatureSpan">segment.Segment.prototype.</span>loadSynonymDict
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">loadSynonymDict = function (name) {
  var filename = this._resolveDictFilename(name);
  var type = 'SYNONYM';

  // åˆå§‹åŒ–è¯å…¸
  if (!this.DICT[type]) this.DICT[type] = {};
  var TABLE = this.DICT[type];        // è¯å…¸è¡¨  'åŒä¹‰è¯' =&gt; 'æ&nbsp;‡å‡†è¯'
  // å¯¼å…¥æ•°æ®
  var data = fs.readFileSync(filename, 'utf8');

  data.split(/\r?\n/).forEach(function (line) {
    var blocks = line.split(',');
    if (blocks.length &gt; 1) {
      var n1 = blocks[0].trim();
      var n2 = blocks[1].trim();
      TABLE[n1] = n2;
      if (TABLE[n2] === n1) {
        delete TABLE[n2];
      }
    }
  });

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

### è½¬æ¢åŒä¹‰è¯

è½½å…¥åŒä¹‰è¯è¯å…¸ï¼š

```javascript
segment.<span class="apidocCodeKeywordSpan">loadSynonymDict</span>('synonym.txt');
```

è¯å…¸æ&nbsp;¼å¼ï¼š

```
ä»€ä¹ˆæ—¶å€™,ä½•æ—¶
å…¥çœ&nbsp;,å…¥ç¡
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.segment.Segment.prototype.split" id="apidoc.element.segment.Segment.prototype.split">
        function <span class="apidocSignatureSpan">segment.Segment.prototype.</span>split
        <span class="apidocSignatureSpan">(words, s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">split = function (words, s) {
  var ret = [];
  var lasti = 0;
  var i = 0;
  var f = typeof s === 'string' ? 'w' : 'p';

  while (i &lt; words.length) {
    if (words[i][f] == s) {
      if (lasti &lt; i) ret.push(words.slice(lasti, i));
      ret.push(words.slice(i, i + 1));
      i++;
      lasti = i;
    } else {
      i++;
    }
  }
  if (lasti &lt; words.length - 1) {
    ret.push(words.slice(lasti, words.length));
  }

  return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  ret[i].ps = POSTAG.chsName(ret[i].p);
}
console.log(ret);
console.log(line);
console.log('spent ' + ((e - s) / NUM) + 'ms');
return;
console.log(segment.toString(ret));
var split = segment.<span class="apidocCodeKeywordSpan">split</span>(ret, 'æ˜¯');
for (var i in split)
  console.log(segment.toString(split[i]));
console.log(segment.indexOf(ret, 'çš„', 3));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.segment.Segment.prototype.toString" id="apidoc.element.segment.Segment.prototype.toString">
        function <span class="apidocSignatureSpan">segment.Segment.prototype.</span>toString
        <span class="apidocSignatureSpan">(words)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function (words) {
  return words.map(function (item) {
    return item.w;
  }).join('');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  line += ret[i].w + '/';
  ret[i].ps = POSTAG.chsName(ret[i].p);
}
console.log(ret);
console.log(line);
console.log('spent ' + ((e - s) / NUM) + 'ms');
return;
console.log(segment.<span class="apidocCodeKeywordSpan">toString</span>(ret));
var split = segment.split(ret, 'æ˜¯');
for (var i in split)
  console.log(segment.toString(split[i]));
console.log(segment.indexOf(ret, 'çš„', 3));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.segment.Segment.prototype.use" id="apidoc.element.segment.Segment.prototype.use">
        function <span class="apidocSignatureSpan">segment.Segment.prototype.</span>use
        <span class="apidocSignatureSpan">(module)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">use = function (module) {
  var me = this;

  if (Array.isArray(module)) {
    module.forEach(function (module) {
      me.use(module[i]);
    });

  } else {
    if (typeof module == 'string') {
      var filename = path.resolve(__dirname, 'module', module + '.js');
      if (!fs.existsSync(filename)) {
        throw Error('Cannot find module "' + module + '".');
      } else {
        module = require(filename);
      }
    }
    // åˆå§‹åŒ–å¹¶æ³¨å†Œæ¨¡å—
    module.init(this);
    this.modules[module.type].push(module);
  }

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

```javascript
// è½½å…¥æ¨¡å—
var Segment = require('segment');
// åˆ›å»ºå®žä¾‹
var segment = new Segment();
// é…ç½®ï¼Œå¯æ&nbsp;¹æ®å®žé™…æƒ…å†µå¢žåˆ&nbsp;ï¼Œè¯¦è§segment.useDefault()æ–¹æ³•
segment.<span class="apidocCodeKeywordSpan">use</span>('URLTokenizer');  // è½½å…¥è¯†åˆ«æ¨¡å—ï¼Œè¯¦è§lib/moduleç›®å½•ï¼Œæˆ–è€…æ˜¯è‡ªå®šä¹‰æ¨¡å—çš„ç»å¯¹è·¯å¾„
segment.loadDict('dict.txt'); // è½½å…¥å­—å…¸ï¼Œè¯¦è§dictsç›®å½•ï¼Œæˆ–è€…æ˜¯è‡ªå®šä¹‰å­—å…¸æ–‡ä»¶çš„ç»å¯¹è·¯å¾„

// å¼€å§‹åˆ†è¯
console.log(segment.doSegment('è¿™æ˜¯ä¸€ä¸ªåŸºäºŽNode.jsçš„ä¸­æ–‡åˆ†è¯æ¨¡å—ã€‚'));
```

ä¸€èˆ¬å¯é€šè¿‡ `segment.useDefault()` æ¥è½½å…¥é»˜è®¤çš„é…ç½®ï¼Œè‹¥è¦è‡ªå®šä¹‰åŠ&nbsp;è½½ï¼Œå¯å‚è€ƒ `useDefault()` çš„ä»£ç&nbsp;ï¼š
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.segment.Segment.prototype.useDefault" id="apidoc.element.segment.Segment.prototype.useDefault">
        function <span class="apidocSignatureSpan">segment.Segment.prototype.</span>useDefault
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">useDefault = function () {
  this
    // è¯†åˆ«æ¨¡å—
    // å¼ºåˆ¶åˆ†å‰²ç±»å•è¯è¯†åˆ«
    .use('URLTokenizer')            // URLè¯†åˆ«
    .use('WildcardTokenizer')       // é€šé…ç¬¦ï¼Œå¿…é¡»åœ¨æ&nbsp;‡ç‚¹ç¬¦å·è¯†åˆ«ä¹‹å‰
    .use('PunctuationTokenizer')    // æ&nbsp;‡ç‚¹ç¬¦å·è¯†åˆ«
    .use('ForeignTokenizer')        // å¤–æ–‡å­—ç¬¦ã€æ•°å­—è¯†åˆ«ï¼Œå¿…é¡»åœ¨æ&nbsp;‡ç‚¹ç¬¦å·è¯†åˆ«ä¹‹åŽ
    // ä¸­æ–‡å•è¯è¯†åˆ«
    .use('DictTokenizer')           // è¯å…¸è¯†åˆ«
    .use('ChsNameTokenizer')        // äººåè¯†åˆ«ï¼Œå»ºè®®åœ¨è¯å…¸è¯†åˆ«ä¹‹åŽ

    // ä¼˜åŒ–æ¨¡å—
    .use('EmailOptimizer')          // é‚®ç®±åœ°å€è¯†åˆ«
    .use('ChsNameOptimizer')        // äººåè¯†åˆ«ä¼˜åŒ–
    .use('DictOptimizer')           // è¯å…¸è¯†åˆ«ä¼˜åŒ–
    .use('DatetimeOptimizer')       // æ—¥æœŸæ—¶é—´è¯†åˆ«ä¼˜åŒ–

    // å­—å…¸æ–‡ä»¶
    .loadDict('dict.txt')           // ç›˜å¤è¯å…¸
    .loadDict('dict2.txt')          // æ‰©å±•è¯å…¸ï¼ˆç”¨äºŽè°ƒæ•´åŽŸç›˜å¤è¯å…¸ï¼‰
    .loadDict('dict3.txt')          // æ‰©å±•è¯å…¸ï¼ˆç”¨äºŽè°ƒæ•´åŽŸç›˜å¤è¯å…¸ï¼‰
    .loadDict('names.txt')          // å¸¸è§åè¯ã€äººå
    .loadDict('wildcard.txt', 'WILDCARD', true)   // é€šé…ç¬¦
    .loadSynonymDict('synonym.txt')   // åŒä¹‰è¯
    .loadStopwordDict('stopword.txt') // åœæ­¢ç¬¦
  ;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
exports.version = require('./package.json').version;

/*
ä½¿ç”¨ç¤ºä¾‹ï¼š

var segment = new Segment();
// ä½¿ç”¨é»˜è®¤çš„è¯†åˆ«æ¨¡å—åŠå­—å…¸
segment.<span class="apidocCodeKeywordSpan">useDefault</span>();
// å¼€å§‹åˆ†è¯
console.log(segment.doSegment('è¿™æ˜¯ä¸€ä¸ªåŸºäºŽNode.jsçš„ä¸­æ–‡åˆ†è¯æ¨¡å—ã€‚'));

*/
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.segment.SingleTokenizer" id="apidoc.module.segment.SingleTokenizer">module segment.SingleTokenizer</a></h1>


    <h2>
        <a href="#apidoc.element.segment.SingleTokenizer.init" id="apidoc.element.segment.SingleTokenizer.init">
        function <span class="apidocSignatureSpan">segment.SingleTokenizer.</span>init
        <span class="apidocSignatureSpan">(segment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function (segment) {
  exports.segment = segment;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      if (!fs.existsSync(filename)) {
        throw Error('Cannot find module "' + module + '".');
      } else {
        module = require(filename);
      }
    }
    // åˆå§‹åŒ–å¹¶æ³¨å†Œæ¨¡å—
    module.<span class="apidocCodeKeywordSpan">init</span>(this);
    this.modules[module.type].push(module);
  }

  return this;
};

Segment.prototype._resolveDictFilename = function (name) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.segment.SingleTokenizer.split" id="apidoc.element.segment.SingleTokenizer.split">
        function <span class="apidocSignatureSpan">segment.SingleTokenizer.</span>split
        <span class="apidocSignatureSpan">(words)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">split = function (words) {
  var POSTAG = exports.segment.POSTAG;
  var ret = [];
  for (var i = 0, word; word = words[i]; i++) {
    if (word.p) {
      ret.push(word);
    } else {
      // ä»…å¯¹æœªè¯†åˆ«çš„è¯è¿›è¡ŒåŒ¹é…
      ret = ret.concat(splitSingle(word.w));
    }
  }
  return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  ret[i].ps = POSTAG.chsName(ret[i].p);
}
console.log(ret);
console.log(line);
console.log('spent ' + ((e - s) / NUM) + 'ms');
return;
console.log(segment.toString(ret));
var split = segment.<span class="apidocCodeKeywordSpan">split</span>(ret, 'æ˜¯');
for (var i in split)
  console.log(segment.toString(split[i]));
console.log(segment.indexOf(ret, 'çš„', 3));
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.segment.Tokenizer" id="apidoc.module.segment.Tokenizer">module segment.Tokenizer</a></h1>


    <h2>
        <a href="#apidoc.element.segment.Tokenizer.Tokenizer" id="apidoc.element.segment.Tokenizer.Tokenizer">
        function <span class="apidocSignatureSpan">segment.</span>Tokenizer
        <span class="apidocSignatureSpan">(segment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Tokenizer = function (segment) {
  this.segment = segment;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.segment.Tokenizer.prototype" id="apidoc.module.segment.Tokenizer.prototype">module segment.Tokenizer.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.segment.Tokenizer.prototype.split" id="apidoc.element.segment.Tokenizer.prototype.split">
        function <span class="apidocSignatureSpan">segment.Tokenizer.prototype.</span>split
        <span class="apidocSignatureSpan">(text, modules)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">split = function (text, modules) {
  if (modules.length &lt; 1) {
    throw Error('No tokenizer module!');
  } else {
    // æŒ‰é¡ºåºåˆ†åˆ«è°ƒç”¨å„ä¸ªmoduleæ¥è¿›è¡Œåˆ†è¯ ï¼š å„ä¸ªmoduleä»…å¯¹æ²¡æœ‰è¯†åˆ«ç±»åž‹çš„å•è¯è¿›è¡Œåˆ†è¯
    var ret = [{w: text}];
    modules.forEach(function (module) {
      ret = module.split(ret);
    });
    return ret;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  ret[i].ps = POSTAG.chsName(ret[i].p);
}
console.log(ret);
console.log(line);
console.log('spent ' + ((e - s) / NUM) + 'ms');
return;
console.log(segment.toString(ret));
var split = segment.<span class="apidocCodeKeywordSpan">split</span>(ret, 'æ˜¯');
for (var i in split)
  console.log(segment.toString(split[i]));
console.log(segment.indexOf(ret, 'çš„', 3));
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.segment.URLTokenizer" id="apidoc.module.segment.URLTokenizer">module segment.URLTokenizer</a></h1>


    <h2>
        <a href="#apidoc.element.segment.URLTokenizer.init" id="apidoc.element.segment.URLTokenizer.init">
        function <span class="apidocSignatureSpan">segment.URLTokenizer.</span>init
        <span class="apidocSignatureSpan">(segment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function (segment) {
  exports.segment = segment;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      if (!fs.existsSync(filename)) {
        throw Error('Cannot find module "' + module + '".');
      } else {
        module = require(filename);
      }
    }
    // åˆå§‹åŒ–å¹¶æ³¨å†Œæ¨¡å—
    module.<span class="apidocCodeKeywordSpan">init</span>(this);
    this.modules[module.type].push(module);
  }

  return this;
};

Segment.prototype._resolveDictFilename = function (name) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.segment.URLTokenizer.split" id="apidoc.element.segment.URLTokenizer.split">
        function <span class="apidocSignatureSpan">segment.URLTokenizer.</span>split
        <span class="apidocSignatureSpan">(words)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">split = function (words) {
  var POSTAG = exports.segment.POSTAG;
  var ret = [];
  for (var i = 0, word; word = words[i]; i++) {
    if (word.p &gt; 0) {
      ret.push(word);
      continue;
    }
    // ä»…å¯¹æœªè¯†åˆ«çš„è¯è¿›è¡ŒåŒ¹é…
    var urlinfo = matchURL(word.w);
    if (urlinfo.length &lt; 1) {
      ret.push(word);
      continue;
    }
    // åˆ†ç¦»å‡ºURL
    var lastc = 0;
    for (var ui = 0, url; url = urlinfo[ui]; ui++) {
      if (url.c &gt; lastc) {
        ret.push({w: word.w.substr(lastc, url.c - lastc)});
      }
      ret.push({w: url.w, p: POSTAG.URL});
      lastc = url.c + url.w.length;
    }
    var lasturl = urlinfo[urlinfo.length - 1];
    if (lasturl.c + lasturl.w.length &lt; word.w.length) {
      ret.push({w: word.w.substr(lasturl.c + lasturl.w.length)});
    }
  }
  // debug(ret);
  return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  ret[i].ps = POSTAG.chsName(ret[i].p);
}
console.log(ret);
console.log(line);
console.log('spent ' + ((e - s) / NUM) + 'ms');
return;
console.log(segment.toString(ret));
var split = segment.<span class="apidocCodeKeywordSpan">split</span>(ret, 'æ˜¯');
for (var i in split)
  console.log(segment.toString(split[i]));
console.log(segment.indexOf(ret, 'çš„', 3));
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.segment.WildcardTokenizer" id="apidoc.module.segment.WildcardTokenizer">module segment.WildcardTokenizer</a></h1>


    <h2>
        <a href="#apidoc.element.segment.WildcardTokenizer.init" id="apidoc.element.segment.WildcardTokenizer.init">
        function <span class="apidocSignatureSpan">segment.WildcardTokenizer.</span>init
        <span class="apidocSignatureSpan">(segment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function (segment) {
  exports.segment = segment;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      if (!fs.existsSync(filename)) {
        throw Error('Cannot find module "' + module + '".');
      } else {
        module = require(filename);
      }
    }
    // åˆå§‹åŒ–å¹¶æ³¨å†Œæ¨¡å—
    module.<span class="apidocCodeKeywordSpan">init</span>(this);
    this.modules[module.type].push(module);
  }

  return this;
};

Segment.prototype._resolveDictFilename = function (name) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.segment.WildcardTokenizer.split" id="apidoc.element.segment.WildcardTokenizer.split">
        function <span class="apidocSignatureSpan">segment.WildcardTokenizer.</span>split
        <span class="apidocSignatureSpan">(words)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">split = function (words) {
  var POSTAG = exports.segment.POSTAG;
  var TABLE = exports.segment.getDict('WILDCARD');
  var ret = [];
  for (var i = 0, word; word = words[i]; i++) {
    if (word.p &gt; 0) {
      ret.push(word);
      continue;
    }
    // ä»…å¯¹æœªè¯†åˆ«çš„è¯è¿›è¡ŒåŒ¹é…
    var wordinfo = matchWord(word.w);
    if (wordinfo.length &lt; 1) {
      ret.push(word);
      continue;
    }
    // åˆ†ç¦»å‡ºå·²è¯†åˆ«çš„å•è¯
    var lastc = 0;
    for (var ui = 0, bw; bw = wordinfo[ui]; ui++) {
      if (bw.c &gt; lastc) {
        ret.push({w: word.w.substr(lastc, bw.c - lastc)});
      }
      ret.push({w: bw.w, p: TABLE[bw.w.toLowerCase()].p});
      lastc = bw.c + bw.w.length;
    }
    var lastword = wordinfo[wordinfo.length - 1];
    if (lastword.c + lastword.w.length &lt; word.w.length) {
      ret.push({w: word.w.substr(lastword.c + lastword.w.length)});
    }
  }
  return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  ret[i].ps = POSTAG.chsName(ret[i].p);
}
console.log(ret);
console.log(line);
console.log('spent ' + ((e - s) / NUM) + 'ms');
return;
console.log(segment.toString(ret));
var split = segment.<span class="apidocCodeKeywordSpan">split</span>(ret, 'æ˜¯');
for (var i in split)
  console.log(segment.toString(split[i]));
console.log(segment.indexOf(ret, 'çš„', 3));
...</pre></li>
    </ul>




</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>